{
  "version": 3,
  "sources": ["src/config.ts", "sw.ts"],
  "sourcesContent": ["export const DB_STORE_NAME = 'app-study-db';\r\nexport const DB_VERSION = 1;\r\nexport const CACHE_KEY = 'app-study-cache';\r\ndeclare const process: { env: { NODE_ENV: string } };\r\nexport const publicPath = process.env.NODE_ENV === 'development' ? '/' : '/app-study/';", "import { CACHE_KEY } from \"./src/config\";\r\nimport { FetchEvent } from \"./src/interface\";\r\n\r\nconst CACHES = [\r\n    '/',\r\n    \"index.html\",\r\n    \"manifest.webmanifest\",\r\n    \"favicon.ico\",\r\n    \"static/index.js\",\r\n    \"img/frozen.css\",\r\n    \"img/math.png\",\r\n    \"img/study-48x48.png\",\r\n]\r\n\r\nself.addEventListener('install', function (_event) {\r\n    const event = _event as FetchEvent\r\n    event.waitUntil(Promise.all([\r\n        caches.open(CACHE_KEY).then(cache => cache.addAll(CACHES)),\r\n        self['skipWaiting']()\r\n    ]))\r\n})\r\nself.addEventListener('activate', function (_event) {\r\n    const event = _event as FetchEvent\r\n    event.waitUntil(Promise.all([\r\n        self['clients'].claim(),\r\n        caches.keys().then(names => Promise.all(names.map(n => {\r\n            if (n !== CACHE_KEY) {\r\n                return caches.delete(n)\r\n            }\r\n        })))\r\n    ]))\r\n})\r\nself.addEventListener('fetch', function (_event) {\r\n    const event = _event as FetchEvent\r\n    const { url } = event.request\r\n\r\n    for(let i = 0; i < CACHES.length; i++) {\r\n        if (url.indexOf(CACHES[i]) === -1) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    event.respondWith(caches.match(event.request).then(res => {\r\n        if (res) {\r\n            console.log('cache hit', event.request.url)\r\n            return res\r\n        }\r\n        return fetch(event.request).then(res => {\r\n            if (res.ok) {\r\n                caches.open(CACHE_KEY).then(cache => cache.put(event.request, res.clone()))\r\n            }\r\n            return res\r\n        })\r\n    }))\r\n})"],
  "mappings": "MAEO,IAAMA,EAAY,kBCCzB,IAAMC,EAAS,CACX,IACA,aACA,uBACA,cACA,kBACA,iBACA,eACA,qBACJ,EAEA,KAAK,iBAAiB,UAAW,SAAUC,EAAQ,CACjCA,EACR,UAAU,QAAQ,IAAI,CACxB,OAAO,KAAKC,CAAS,EAAE,KAAKC,GAASA,EAAM,OAAOH,CAAM,CAAC,EACzD,KAAK,YAAe,CACxB,CAAC,CAAC,CACN,CAAC,EACD,KAAK,iBAAiB,WAAY,SAAUC,EAAQ,CAClCA,EACR,UAAU,QAAQ,IAAI,CACxB,KAAK,QAAW,MAAM,EACtB,OAAO,KAAK,EAAE,KAAKG,GAAS,QAAQ,IAAIA,EAAM,IAAIC,GAAK,CACnD,GAAIA,IAAMH,EACN,OAAO,OAAO,OAAOG,CAAC,CAE9B,CAAC,CAAC,CAAC,CACP,CAAC,CAAC,CACN,CAAC,EACD,KAAK,iBAAiB,QAAS,SAAUJ,EAAQ,CAC7C,IAAMK,EAAQL,EACR,CAAE,IAAAM,CAAI,EAAID,EAAM,QAEtB,QAAQE,EAAI,EAAGA,EAAIR,EAAO,OAAQQ,IAC9B,GAAID,EAAI,QAAQP,EAAOQ,CAAC,CAAC,IAAM,GAC3B,OAIRF,EAAM,YAAY,OAAO,MAAMA,EAAM,OAAO,EAAE,KAAKG,GAC3CA,GACA,QAAQ,IAAI,YAAaH,EAAM,QAAQ,GAAG,EACnCG,GAEJ,MAAMH,EAAM,OAAO,EAAE,KAAKG,IACzBA,EAAI,IACJ,OAAO,KAAKP,CAAS,EAAE,KAAKC,GAASA,EAAM,IAAIG,EAAM,QAASG,EAAI,MAAM,CAAC,CAAC,EAEvEA,EACV,CACJ,CAAC,CACN,CAAC",
  "names": ["CACHE_KEY", "CACHES", "_event", "CACHE_KEY", "cache", "names", "n", "event", "url", "i", "res"]
}
